---
description: "Troubleshooting behaviors for debugging and problem solving"
applyWhen: ["@troubleshooting.mdc"]
priority: 2
---

## GATE COMPLIANCE NOTICE

**CRITICAL**: These behaviors CANNOT override permission gates from rules.mdc.

- [ ] All behaviors subject to permission gates in rules.mdc
- [ ] Cannot bypass "APPROVE" requirement
- [ ] Cannot override session boundary enforcement
- [ ] Cannot assume permission from context

**Reference**: See `@rules.mdc` for complete gate requirements.
**Context-Specific Note**: These behaviors apply within the context of proper gate compliance.

---

# RCA Behaviors

## Context-Specific Behaviors for Root Cause Analysis

### 1. Simplicity First (High Priority)
- **Start with the simplest possible solution**: Always begin with the most direct fix
- **Question complexity**: Ask "Is this architectural change actually needed?"
- **YAGNI**: You Aren't Gonna Need It - don't build features you don't currently need
- **2-3 line fixes**: If the problem can be solved in 2-3 lines, do that first
- **Data format issues**: Usually require simple formatting changes, not architectural changes

### 2. Problem Classification (RCA-Specific)
- **Data Format Issues**: Usually require simple formatting changes, not architectural changes
- **Validation Errors**: Often just data format or field mapping issues
- **UI Issues**: Check templates and context before modifying backend
- **Performance Issues**: Only optimize after identifying actual bottlenecks

### 3. Solution Validation (RCA-Specific)
Before implementing any solution, ask:
- Can this be solved with a simple data format change?
- Is this actually a data flow problem or just a formatting problem?
- Would a 2-3 line fix work instead of a new function/class?
- Am I over-engineering a simple problem?

### 4. Data Flow Understanding (RCA-Specific)
- **Check templates first**: When debugging UI issues, always examine templates before backend
- **Trace data flow**: Follow data from context through template to display
- **Use print statements**: Add debugging output to understand actual data flow
- **Don't assume**: Verify how things actually work rather than making assumptions
- **Format issues first**: Check data format before assuming logic problems

### 5. Similar Error Detection (RCA-Specific)
- **Search Strategy**: Look for same error pattern in similar file types
- **Common Locations**: Check templates, views, models, forms with similar logic
- **Pattern Recognition**: If error exists elsewhere, fix the root pattern
- **Prevention**: Document where similar issues might occur

### 6. Impact Analysis (RCA-Specific)
- **Dependency Check**: Identify what other code depends on this change
- **Side Effect Analysis**: Verify fix won't break other functionality
- **Related Feature Testing**: Check similar patterns that might be affected
- **Integration Validation**: Ensure fix works with existing code

## RCA Anti-Patterns to Avoid

### Over-Engineering (RCA-Specific)
- Creating new functions for simple data formatting
- Adding architectural layers for 2-3 line fixes
- Following patterns without questioning if they're needed
- Building "future-proof" solutions for current problems

### Assumption-Based Solutions (RCA-Specific)
- Assuming data flow problems without checking format
- Assuming backend issues without checking templates
- Assuming architectural problems without checking simple fixes
- Assuming complexity is needed without trying simple solutions first

## RCA Principles

### 1. Start with Data Format
- Most errors are data format issues
- Check how data is being passed between components
- Verify field mappings and data types

### 2. Check Templates First
- UI problems often start with template issues
- Verify template context and variables
- Check for missing or incorrect template logic

### 3. Question Complexity
- Is this really an architectural problem?
- Could this be solved with a simple data change?
- Am I over-engineering a simple fix?

### 4. Test the Theory
- Verify the root cause before implementing
- Use debugging tools to confirm the issue
- Don't assume - verify with actual data

## RCA When in Doubt
1. **Start with the simplest solution** - 2-3 lines before architectural changes
2. **Check templates first** before backend changes
3. **Look at similar implementations** in the codebase
4. **Ask for clarification** rather than making assumptions
5. **Test thoroughly** before considering changes complete
6. **Question whether you're over-engineering** - if the fix is simple, keep it simple